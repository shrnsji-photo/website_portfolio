<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sheron | Premium Portfolio</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css">
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif;}
body {background:#111; color:#fff; line-height:1.6; overflow-x:hidden; transition: background 0.3s, color 0.3s;}
.flare-bg {position:fixed; top:0; left:0; width:100%; height:100%; background: radial-gradient(circle at 25% 25%, rgba(255,191,74,0.1), transparent 40%), radial-gradient(circle at 75% 75%, rgba(191,74,255,0.08), transparent 50%); z-index:-2; animation: flareMove 30s linear infinite;}
@keyframes flareMove {0% {transform:translate(0,0);} 50% {transform:translate(-50px,50px);} 100% {transform:translate(0,0);} }
#particleCanvas {position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1;}
header {display:flex; justify-content:space-between; align-items:center; padding:15px 20px; position:sticky; top:0; background:rgba(17,17,17,0.85); z-index:10; border-bottom:1px solid #333;}
header h1 {font-size:1.8rem; font-weight:700; color:#bfa14a;}
nav a {margin-left:15px; text-decoration:none; color:#fff; font-weight:500; transition:0.3s;}
nav a:hover {color:#bfa14a;}
.hero {text-align:center; padding:40px 15px;}
.hero-text h2 {font-size:2.2rem; margin-bottom:12px; text-shadow: 0 0 10px rgba(255,191,74,0.5);}
.hero-text p {font-size:1.1rem; color:#ddd; text-shadow: 0 0 8px rgba(0,0,0,0.5);}
section h3 {font-size:1.4rem; margin:6px 12px 8px; color:#fff;}
.gallery-grid { display: flex; flex-wrap: wrap; gap: 4px; justify-content: center; padding: 0; }
.photo-frame { flex: 0 0 auto; display: flex; align-items: center; justify-content: center; background: none; overflow: hidden; position: relative; margin:0; }
.photo-frame img { display:block; width:auto; height:auto; max-width:120px; max-height:120px; }
.photo-frame.landscape img { max-width:180px; max-height:120px; }
.photo-frame:hover img { transform: scale(1.05); filter: brightness(1.2); }
.actions { position:absolute; bottom:6px; left:50%; transform:translateX(-50%); display:flex; gap:8px; opacity:0; transition: opacity 0.2s; }
.photo-frame:hover .actions { opacity:1; }
.actions button { padding:5px; border:none; background:#bfa14a; color:#111; border-radius:4px; cursor:pointer; font-weight:600; }
.actions button:hover { background:#ffd066; }
.btn {display:inline-block; padding:10px 20px; background:#bfa14a; color:#111; border:none; border-radius:8px; font-weight:600; text-decoration:none; margin:15px auto; cursor:pointer; transition:0.3s;}
.btn:hover {background:#ffd066;}
footer {text-align:center; padding:20px; font-size:0.9rem; color:#aaa;}
</style>
</head>
<body>
<div class="flare-bg"></div>
<canvas id="particleCanvas"></canvas>
<header>
  <h1>Sheron</h1>
  <nav>
    <a href="#gallery">Gallery</a>
    <a href="#contact">Contact</a>
  </nav>
</header>
<section class="hero" id="about">
  <div class="hero-text">
    <h2>Hi, I'm Sheron</h2>
    <p>Turning your memories into emotions that last forever.</p>
  </div>
</section>
<section class="projects" id="gallery-section">
  <h3>Gallery</h3>
  <div id="gallery" class="gallery-grid"></div>
  <button id="downloadAll" class="btn">Download All</button>
</section>
<section class="contact" id="contact">
  <h3>Let's Work Together</h3>
  <p>Ready to turn your vision into reality? Contact me today!</p>
  <a href="mailto:sheronsaji123@gmail.com" class="btn">Contact Me</a>
</section>
<footer>&copy; 2025 Sheron. All rights reserved.</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>
<script>
const gallery = document.getElementById('gallery');
const repo = "shrnsji-photo/website_portfolio";
const folder = "images";

function initGallery() {
  fetch(`https://api.github.com/repos/${repo}/contents/${folder}`)
    .then(res => res.json())
    .then(data => {
      const items = data.filter(file => file.type === "file" && /\.(jpg|jpeg|png|gif)$/i.test(file.name));
      items.forEach(file => {
        const frame = document.createElement('div');
        frame.className = 'photo-frame';

        const img = new Image();
        img.src = file.download_url;
        img.onload = () => {
          const ratio = img.width / img.height;
          if(ratio > 1.3) frame.classList.add('landscape');
        };

        const link = document.createElement('a');
        link.href = file.download_url;
        link.setAttribute('data-lightbox', 'gallery');
        link.setAttribute('data-title', file.name);
        link.appendChild(img);

        const actions = document.createElement('div');
        actions.className = 'actions';

        const previewBtn = document.createElement('button');
        previewBtn.innerText = 'ðŸ”';
        previewBtn.onclick = e => { e.preventDefault(); link.click(); };

        const downloadBtn = document.createElement('button');
        downloadBtn.innerText = 'â¬‡ï¸';
        downloadBtn.onclick = async () => {
          try {
            const response = await fetch(file.download_url);
            const blob = await response.blob();
            const dl = document.createElement('a');
            dl.href = URL.createObjectURL(blob);
            dl.download = file.name;
            document.body.appendChild(dl);
            dl.click();
            document.body.removeChild(dl);
            URL.revokeObjectURL(dl.href);
          } catch (err) {
            console.error("Download failed", err);
          }
        };

        actions.appendChild(previewBtn);
        actions.appendChild(downloadBtn);

        frame.appendChild(link);
        frame.appendChild(actions);
        gallery.appendChild(frame);
      });

      if (typeof lightbox !== 'undefined') {
        lightbox.option({
          resizeDuration: 200,
          wrapAround: true,
          fadeDuration: 200,
          imageFadeDuration: 200,
          disableScrolling: true,
          positionFromTop: 100,
          showImageNumberLabel: false,
          albumLabel: '',
          alwaysShowNavOnTouchDevices: true,
          clickOutsideToClose: true
        });
      }
    });
}
initGallery();

document.getElementById('downloadAll').addEventListener('click', ()=> {
  window.location.href = `https://github.com/${repo}/archive/refs/heads/main.zip`;
});

// Force close lightbox on any overlay or image click
document.addEventListener("click", (e) => {
  const lbOverlay = document.querySelector(".lightboxOverlay");
  const lb = document.querySelector(".lightbox");
  if (lbOverlay && lb && (e.target === lbOverlay || e.target === lb)) {
    const closeBtn = document.querySelector(".lb-close");
    if (closeBtn) closeBtn.click();
  }
});

// Particle background
const canvas = document.getElementById('particleCanvas');
const ctx = canvas.getContext('2d');
function sizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
sizeCanvas();
const particles=[];
for(let i=0;i<60;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1,dx:(Math.random()-0.5)*0.5,dy:(Math.random()-0.5)*0.5,color:`rgba(255,191,74,${Math.random()})`});}
function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);particles.forEach(p=>{p.x+=p.dx;p.y+=p.dy;if(p.x<0||p.x>canvas.width)p.dx*=-1;if(p.y<0||p.y>canvas.height)p.dy*=-1;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fillStyle=p.color;ctx.fill();});requestAnimationFrame(animate);}
animate();
window.addEventListener('resize', sizeCanvas);
</script>
</body>
</html>
